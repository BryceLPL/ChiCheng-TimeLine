# 清末历史时间轴

这是为话剧《赤诚》设计的清末历史时间轴可视化工具，让您能够直观地了解剧中提及的历史事件和背景。

## 功能特点

- 交互式时间轴，可拖动年份查看历史事件
- 清晰显示道光、咸丰、同治、光绪、宣统各个年号的时期及分界线
- 支持显示任意数量的历史事件（事件1、事件2、事件3等）
- 支持图片展示，为每个年份添加相关历史图片
- 自适应布局，提供良好的用户体验

## 使用方法

1. 拖动时间轴滑块查看不同年份的历史事件
2. 阅读该年份发生的历史事件
3. 查看与该年份相关的历史图片（如有）

## 数据来源

本时间轴中的历史事件数据基于《清史稿》等权威历史文献以及话剧《赤诚》的创作团队整理的历史资料。

## 关于《赤诚》话剧

《赤诚》是一部反映清末历史的话剧作品，通过这个时间轴工具，您可以更好地了解剧中涉及的历史背景。

## 使用流程

### 1. 准备数据
- 在`清末年号大事记.xlsx`文件中补充完整历史事件数据
- 确保Excel文件包含必要的列：`年号`、`年份`、`干支`、`属相`、`事件1`、`事件2`、`事件3`

### 2. 转换数据为CSV格式
- 运行Excel转CSV转换工具：
```
python convert_excel_to_csv.py
```
- 这将生成`清末年号大事记.csv`文件

### 3. 运行增强版时间轴可视化
- 运行以下命令启动应用：
```
streamlit run timeline_enhanced.py
```
- 在浏览器中查看交互式时间轴

## 数据格式要求

数据文件应包含以下列：

- `年号`: 事件发生时的年号（如"道光"、"咸丰"等）
- `年份`: 事件发生的公元年份（如1840、1864等）
- `干支`: 年份的干支表示（如"庚申"）
- `属相`: 年份的生肖（如"猴"）
- `事件1`, `事件2`, `事件3`: 事件的描述文本（可以只填写部分）

## 图片展示功能

要添加与历史事件相关的图片：

1. 确保`images`文件夹存在（应用会自动创建）
2. 将图片以`年份_描述.jpg`格式命名（例如：`1840_鸦片战争.jpg`）
3. 图片会自动显示在对应年份的事件旁边

## 安装依赖

```
pip install -r requirements.txt
```

或使用conda环境:

```bash
# 创建名为timeline的conda环境
conda create -n timeline python=3.9

# 激活环境
conda activate timeline

# 安装依赖包
conda install pandas numpy pillow
conda install -c conda-forge streamlit openpyxl
```

## 贡献与反馈

如果您有任何建议或发现任何问题，请随时反馈！ 